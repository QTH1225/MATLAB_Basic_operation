%5.27日第四章综合案例
%------------------------------分界符----------------------------------%
%例7.18求ode数值解
%方法1
f1=@(t,x)[-2*x(2);x(1)]
[t,x]=ode45(f1,[0,20],[1,0]);
subplot(2,3,1);
plot(t,x(:,2))
%方法2
f2=@(t,x)[x(2);-2*x(1)];
[t,x]=ode45(f2,[0,20],[0,1]);
subplot(2,3,2);
plot(t,x(:,1))
%理论解
xx=sin(sqrt(2)*t)/sqrt(2);
subplot(2,3,3);
plot(t,xx)

%------------------------------分界符----------------------------------%
%例7.19仓库选址
a=[10,30,16.667,0.555,22.2221]; %横坐标矩阵
b=[10,50,29,29.888,49.888]; %纵坐标矩阵
c=[10,18,20,14,25]; %权重矩阵
f=@(x)sum(c.*sqrt((x(1)-a).^2+(x(2)-b).^2));
[xmin,fmin]=fminsearch(f,[15,30])

%------------------------------分界符----------------------------------%
%例7.20有约束的仓库选址
a=[10,30,16.667,0.555,22.2221]; %横坐标矩阵
b=[10,50,29,29.888,49.888]; %纵坐标矩阵
c=[10,18,20,14,25]; %权重矩阵
f=@(x)sum(c.*sqrt((x(1)-a).^2+(x(2)-b).^2));
[xmin,fmin]=fmincon(f,[15,30],[],[],[],[],[],[],@funny)





